var JSTEST=(function(){return{domReady:function(a){/in/.test(document.readyState)?setTimeout("JSTEST.domReady("+a+")",9):a()},node:function(a){return document.getElementById(a)},addEvent:function(c,b,a){if(c.attachEvent){c["e"+b+a]=a;c[b+a]=function(){c["e"+b+a](window.event)};c.attachEvent("on"+b,c[b+a])}else{c.addEventListener(b,a,false)}},removeEvent:function(c,b,a){if(c.detachEvent){c.detachEvent("on"+b,c[b+a]);c[b+a]=null}else{c.removeEventListener(b,a,false)}},cancelEvent:function(a){if(a.preventDefault){a.preventDefault()}else{a.returnValue=false}return false},getElementsByAttribute:function(b,c,a){c=(c||document);var f=[];var e=c.getElementsByTagName(a||"*");for(var d=0;d<e.length;d++){if(e[d].getAttribute(b)!=null){f.push(e[d])}}return f},getNextSibling:function(a){var b=a.nextSibling;while(b.nodeType!=1){b=b.nextSibling}return b},hasClass:function(c,a){var b=" "+a+" ";if((" "+c.className+" ").replace(/[\n\t\r]/g," ").indexOf(b)>-1){return true}return false},removeClass:function(c,a){if(this.hasClass(c,a)){var b=new RegExp("(\\s|^)"+a+"(\\s|$)");c.className=c.className.replace(b," ")}},addClass:function(b,a){if(!this.hasClass(b,a)){b.className+=" "+a}},log:function(){if(window.console){console.log(Array.prototype.slice.call(arguments))}},validateRequireds:function(e){var d=true;var a=this.getElementsByAttribute("required",e,"input");for(var c in a){var b=a[c];this.addClass(this.getNextSibling(b),"hidden");if(b.value.length==0){d=false;this.removeClass(this.getNextSibling(b),"hidden")}}return d},formValidator:function(c,a,b){if(!c){return false}var d=this;this.addEvent(c,"submit",function(g){try{if(d.validateRequireds(c)){if(a){d.cancelEvent(g);return a.call(this)}else{return true}}else{if(b){d.cancelEvent(g);return b.call(this)}else{return d.cancelEvent(g)}}}catch(f){d.log(f);return d.cancelEvent(g)}});return this}}})();JSTEST.domReady(function(){JSTEST.formValidator(JSTEST.node("loginform").getElementsByTagName("form")[0],function(){this.innerHTML="<h2>Yay! Logged in..</h2>";return false})});